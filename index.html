<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Latino y Griego</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3a8a 0%, #7c3aed 50%, #4338ca 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            width: 100%;
        }
        
        .title {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }
        
        .title h1 {
            font-size: 3rem;
            margin-bottom: 10px;
        }
        
        .title p {
            font-size: 1.3rem;
            opacity: 0.9;
        }
        
        .login-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .login-card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        .login-card.logged {
            background: #10b981;
            color: white;
        }
        
        .login-card h3 {
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.5rem;
        }
        
        .login-card input {
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 1rem;
        }
        
        .login-card input:focus {
            outline: none;
            border-color: #3b82f6;
        }
        
        .login-card button {
            width: 100%;
            padding: 12px;
            background: #3b82f6;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
        }
        
        .login-card button:hover {
            background: #2563eb;
        }
        
        .start-btn {
            display: block;
            margin: 0 auto;
            padding: 20px 40px;
            background: #10b981;
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.5rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        .start-btn:hover {
            background: #059669;
            transform: scale(1.05);
        }
        
        .scoreboard {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 30px;
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 15px;
        }
        
        .score-card {
            background: rgba(255,255,255,0.2);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            color: white;
        }
        
        .score-card.active {
            background: #fbbf24;
            color: black;
            transform: scale(1.1);
        }
        
        .question-box {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }
        
        .question-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
        }
        
        .timer {
            background: #dbeafe;
            color: #1e40af;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .timer.warning {
            background: #fee2e2;
            color: #991b1b;
        }
        
        .question-title {
            font-size: 2rem;
            margin-bottom: 40px;
            color: #1f2937;
        }
        
        .options {
            display: grid;
            gap: 15px;
        }
        
        .option {
            padding: 20px;
            background: #eff6ff;
            border: 3px solid transparent;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1.1rem;
            transition: all 0.2s;
        }
        
        .option:hover {
            background: #dbeafe;
        }
        
        .option.correct {
            background: #10b981;
            color: white;
            border-color: #059669;
        }
        
        .option.wrong {
            background: #ef4444;
            color: white;
            border-color: #dc2626;
        }
        
        .option.disabled {
            background: #e5e7eb;
            color: #9ca3af;
            cursor: not-allowed;
        }
        
        .explanation {
            margin-top: 20px;
            padding: 20px;
            background: #fef3c7;
            border-radius: 10px;
            font-size: 1.1rem;
        }
        
        .results {
            background: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
        }
        
        .podium {
            margin: 40px 0;
        }
        
        .podium-item {
            padding: 30px;
            margin: 15px 0;
            border-radius: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1.5rem;
        }
        
        .podium-item.first {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
        }
        
        .podium-item.second {
            background: linear-gradient(135deg, #d1d5db, #9ca3af);
        }
        
        .podium-item.third {
            background: linear-gradient(135deg, #fb923c, #f97316);
        }
        
        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- Pantalla de Login -->
    <div id="loginScreen" class="container">
        <div class="title">
            <h1>üèõÔ∏è Quiz Latino y Griego</h1>
            <p>Competici√≥n de Vocabulario Cl√°sico</p>
        </div>
        
        <div class="login-grid">
            <div class="login-card" id="card1">
                <h3>üîê Grupo 1</h3>
                <input type="text" id="name1" placeholder="Nombre del grupo">
                <input type="password" id="pass1" placeholder="Contrase√±a">
                <button onclick="login(1)">Entrar</button>
            </div>
            
            <div class="login-card" id="card2">
                <h3>üîê Grupo 2</h3>
                <input type="text" id="name2" placeholder="Nombre del grupo">
                <input type="password" id="pass2" placeholder="Contrase√±a">
                <button onclick="login(2)">Entrar</button>
            </div>
            
            <div class="login-card" id="card3">
                <h3>üîê Grupo 3</h3>
                <input type="text" id="name3" placeholder="Nombre del grupo">
                <input type="password" id="pass3" placeholder="Contrase√±a">
                <button onclick="login(3)">Entrar</button>
            </div>
        </div>
        
        <button id="startBtn" class="start-btn hidden" onclick="startGame()">
            ‚ñ∂ ¬°Comenzar Juego!
        </button>
    </div>
    
    <!-- Pantalla de Juego -->
    <div id="gameScreen" class="container hidden">
        <div class="scoreboard" id="scoreboard"></div>
        
        <div class="question-box">
            <div class="question-header">
                <span id="questionNum">Pregunta 1 de 10</span>
                <span class="timer" id="timer">‚è± 20s</span>
            </div>
            
            <div id="turnInfo" style="color: #7c3aed; font-weight: bold; margin-bottom: 15px;"></div>
            
            <h2 class="question-title" id="questionText"></h2>
            
            <div class="options" id="options"></div>
            
            <div id="explanation" class="explanation hidden"></div>
        </div>
    </div>
    
    <!-- Pantalla de Resultados -->
    <div id="resultsScreen" class="container hidden">
        <div class="results">
            <div style="font-size: 5rem; margin-bottom: 20px;">üèÜ</div>
            <h1 style="font-size: 3rem; margin-bottom: 40px;">¬°Juego Terminado!</h1>
            
            <div class="podium" id="podium"></div>
            
            <button class="start-btn" onclick="resetGame()">Nueva Partida</button>
        </div>
    </div>

    <script>
        // URL de Google Apps Script
        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxD7M5_YHQc5-tIidWFVjQJucge6xWNhedZ6mIrjEVScLFoXBx3kh_lV27dshVF5QA2zA/exec';
        
        // BASE DE DATOS DE PREGUNTAS DE RESPALDO (si falla Google Sheets)
        const QUESTIONS = [
            { q: "¬øCu√°l es el √©timo latino de 'oculista'?", opts: ["oculus, i", "caput, capitis", "dens, dentis", "pes, pedis"], correct: 0, exp: "Oculus, i significa 'ojo' en lat√≠n" },
            { q: "¬øQu√© significa el sufijo griego '-itis'?", opts: ["dolor", "inflamaci√≥n", "enfermedad", "estudio"], correct: 1, exp: "-itis significa inflamaci√≥n" },
            { q: "Un carn√≠_____ come carne. Completa:", opts: ["fero", "voro", "cida", "ducto"], correct: 1, exp: "'voro' significa 'que come'" },
            { q: "¬øCu√°ntos lados tiene un hex√°gono?", opts: ["5", "6", "7", "8"], correct: 1, exp: "'hex' es el numeral griego para 6" },
            { q: "¬øQu√© parte del cuerpo afecta la 'cardiopat√≠a'?", opts: ["cabeza", "ri√±√≥n", "coraz√≥n", "pulm√≥n"], correct: 2, exp: "'card√≠a' significa coraz√≥n en griego" },
            { q: "R.I.P. significa:", opts: ["Requiescat in pace", "Rex in perpetuum", "Res in pacto", "Roma in pugna"], correct: 0, exp: "Requiescat in pace = Descanse en paz" },
            { q: "¬øQu√© n√∫mero representa 'deka' en griego?", opts: ["5", "10", "12", "100"], correct: 1, exp: "'deka' es 10 en griego" },
            { q: "'Sine die' significa:", opts: ["Con fecha", "Sin d√≠a", "Cada d√≠a", "Un d√≠a"], correct: 1, exp: "'Sine die' = sin fijar fecha" },
            { q: "El √©timo griego de 'dermatitis' es:", opts: ["derma", "dentes", "demo", "deka"], correct: 0, exp: "'derma' significa piel en griego" },
            { q: "¬øQu√© significa 'motu proprio'?", opts: ["Con movimiento", "Por propia iniciativa", "Sin motivo", "En movimiento"], correct: 1, exp: "'Motu proprio' = por propia iniciativa" },
            { q: "¬øCu√°l es el √©timo latino de 'manual'?", opts: ["pes", "manus", "digitus", "nasus"], correct: 1, exp: "'Manus' significa mano" },
            { q: "'Caput, capitis' significa:", opts: ["pie", "cabeza", "mano", "ojo"], correct: 1, exp: "√âtimo de 'decapitar'" },
            { q: "Un 'b√≠gamo' tiene:", opts: ["1 esposa", "2 esposas", "3 esposas", "muchas"], correct: 1, exp: "'Bi' (dos) + 'gamos' (matrimonio)" },
            { q: "¬øCu√°ntos lados tiene un pent√°gono?", opts: ["4", "5", "6", "7"], correct: 1, exp: "'Pente' (cinco) + 'gonia' (√°ngulo)" },
            { q: "La 'cefalea' es dolor de:", opts: ["pies", "cabeza", "manos", "ojos"], correct: 1, exp: "Del griego 'kefale' (cabeza)" },
            { q: "¬øQu√© significa '-algia'?", opts: ["dolor", "inflamaci√≥n", "enfermedad", "estudio"], correct: 0, exp: "-algia indica dolor" },
            { q: "Un 'cuadr√∫pedo' tiene:", opts: ["2 patas", "3 patas", "4 patas", "6 patas"], correct: 2, exp: "'Quattuor' (cuatro) + 'pes' (pie)" },
            { q: "¬øQu√© mes era el s√©ptimo?", opts: ["julio", "septiembre", "octubre", "noviembre"], correct: 1, exp: "'Septem' (siete) - calendario romano" },
            { q: "Un 'herb√≠voro' come:", opts: ["carne", "plantas", "insectos", "peces"], correct: 1, exp: "'Herba' + 'voro'" },
            { q: "'Cor, cordis' significa:", opts: ["ri√±√≥n", "pulm√≥n", "coraz√≥n", "sangre"], correct: 2, exp: "√âtimo de 'cordial'" },
            { q: "La 'otitis' afecta:", opts: ["ojo", "o√≠do", "nariz", "boca"], correct: 1, exp: "Del griego 'ous' (o√≠do)" },
            { q: "'Pente' en griego es:", opts: ["4", "5", "6", "7"], correct: 1, exp: "'Pente' significa cinco" },
            { q: "Un 'matricida' mata a:", opts: ["padre", "madre", "hermano", "hijo"], correct: 1, exp: "'Mater' + 'cida'" },
            { q: "¬øCu√°ntos lados tiene un hept√°gono?", opts: ["6", "7", "8", "9"], correct: 1, exp: "'Hepta' (siete)" },
            { q: "'Cordial' se relaciona con:", opts: ["cabeza", "coraz√≥n", "mano", "pie"], correct: 1, exp: "Del lat√≠n 'cor, cordis'" },
            { q: "'Nefros' en griego es:", opts: ["coraz√≥n", "pulm√≥n", "ri√±√≥n", "h√≠gado"], correct: 2, exp: "'Nefros' significa ri√±√≥n" },
            { q: "Un 'triciclo' tiene:", opts: ["2 ruedas", "3 ruedas", "4 ruedas", "5 ruedas"], correct: 1, exp: "'Tria' (tres) + 'kyklos'" },
            { q: "'-pat√≠a' significa:", opts: ["dolor", "inflamaci√≥n", "enfermedad", "estudio"], correct: 2, exp: "-pat√≠a indica enfermedad" },
            { q: "Un 'acueducto' lleva:", opts: ["vino", "aceite", "agua", "gas"], correct: 2, exp: "'Aqua' + 'ducto'" },
            { q: "Un oct√≥gono tiene:", opts: ["7 lados", "8 lados", "9 lados", "10 lados"], correct: 1, exp: "'Octo' (ocho)" }
        ];

        let groups = [
            { id: 1, name: '', score: 0, loggedIn: false },
            { id: 2, name: '', score: 0, loggedIn: false },
            { id: 3, name: '', score: 0, loggedIn: false }
        ];
        
        let currentGroup = 0;
        let currentQuestion = 0;
        let gameQuestions = [];
        let timeLeft = 20;
        let timer = null;
        let answered = false;

        function login(groupNum) {
            const name = document.getElementById(`name${groupNum}`).value.trim();
            const pass = document.getElementById(`pass${groupNum}`).value.trim();
            
            if (name && pass) {
                groups[groupNum - 1].name = name;
                groups[groupNum - 1].loggedIn = true;
                
                const card = document.getElementById(`card${groupNum}`);
                card.classList.add('logged');
                card.innerHTML = `<h3>üë• ${name}</h3><p style="text-align:center; margin-top:15px;">‚úì Conectado</p>`;
                
                if (groups.every(g => g.loggedIn)) {
                    document.getElementById('startBtn').classList.remove('hidden');
                }
            }
        }

        function startGame() {
            // Seleccionar 10 preguntas aleatorias
            gameQuestions = [...QUESTIONS].sort(() => Math.random() - 0.5).slice(0, 10);
            currentQuestion = 0;
            currentGroup = 0;
            
            document.getElementById('loginScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.remove('hidden');
            
            showQuestion();
        }

        function showQuestion() {
            answered = false;
            timeLeft = 20;
            
            const q = gameQuestions[currentQuestion];
            
            document.getElementById('questionNum').textContent = `Pregunta ${currentQuestion + 1} de 10`;
            document.getElementById('turnInfo').textContent = `Turno de: ${groups[currentGroup].name}`;
            document.getElementById('questionText').textContent = q.q;
            document.getElementById('explanation').classList.add('hidden');
            
            const optionsDiv = document.getElementById('options');
            optionsDiv.innerHTML = '';
            
            q.opts.forEach((opt, i) => {
                const div = document.createElement('div');
                div.className = 'option';
                div.innerHTML = `<strong>${String.fromCharCode(65 + i)}.</strong> ${opt}`;
                div.onclick = () => selectAnswer(i);
                optionsDiv.appendChild(div);
            });
            
            updateScoreboard();
            startTimer();
        }

        function selectAnswer(index) {
            if (answered) return;
            
            answered = true;
            clearInterval(timer);
            
            const q = gameQuestions[currentQuestion];
            const options = document.querySelectorAll('.option');
            
            options.forEach((opt, i) => {
                opt.classList.add('disabled');
                if (i === q.correct) {
                    opt.classList.add('correct');
                } else if (i === index) {
                    opt.classList.add('wrong');
                }
            });
            
            if (index === q.correct) {
                groups[currentGroup].score += 10;
                updateScoreboard();
            }
            
            const expDiv = document.getElementById('explanation');
            expDiv.textContent = q.exp;
            expDiv.classList.remove('hidden');
            
            setTimeout(nextQuestion, 3000);
        }

        function startTimer() {
            updateTimer();
            timer = setInterval(() => {
                timeLeft--;
                updateTimer();
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    selectAnswer(-1);
                }
            }, 1000);
        }

        function updateTimer() {
            const timerEl = document.getElementById('timer');
            timerEl.textContent = `‚è± ${timeLeft}s`;
            
            if (timeLeft <= 5) {
                timerEl.classList.add('warning');
            } else {
                timerEl.classList.remove('warning');
            }
        }

        function updateScoreboard() {
            const board = document.getElementById('scoreboard');
            board.innerHTML = '';
            
            groups.forEach((g, i) => {
                const div = document.createElement('div');
                div.className = 'score-card';
                if (i === currentGroup) div.classList.add('active');
                div.innerHTML = `<div style="font-weight:bold; font-size:1.2rem;">${g.name}</div>
                                <div style="font-size:1.8rem; font-weight:bold; margin-top:10px;">${g.score} pts</div>`;
                board.appendChild(div);
            });
        }

        function nextQuestion() {
            currentQuestion++;
            currentGroup = (currentGroup + 1) % 3;
            
            if (currentQuestion < 10) {
                showQuestion();
            } else {
                showResults();
            }
        }

        function showResults() {
            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('resultsScreen').classList.remove('hidden');
            
            const sorted = [...groups].sort((a, b) => b.score - a.score);
            const podium = document.getElementById('podium');
            podium.innerHTML = '';
            
            const medals = ['ü•á', 'ü•à', 'ü•â'];
            const classes = ['first', 'second', 'third'];
            const labels = ['¬°Campeones!', 'Segundo lugar', 'Tercer lugar'];
            
            sorted.forEach((g, i) => {
                const div = document.createElement('div');
                div.className = `podium-item ${classes[i]}`;
                div.innerHTML = `<div><span style="font-size:2rem; margin-right:15px;">${medals[i]}</span>
                                <strong>${g.name}</strong><br><small>${labels[i]}</small></div>
                                <div style="font-size:2.5rem; font-weight:bold;">${g.score}</div>`;
                podium.appendChild(div);
            });
        }

        function resetGame() {
            groups.forEach(g => {
                g.score = 0;
                g.loggedIn = false;
            });
            
            document.getElementById('resultsScreen').classList.add('hidden');
            document.getElementById('loginScreen').classList.remove('hidden');
            document.getElementById('startBtn').classList.add('hidden');
            
            for (let i = 1; i <= 3; i++) {
                const card = document.getElementById(`card${i}`);
                card.classList.remove('logged');
                card.innerHTML = `<h3>üîê Grupo ${i}</h3>
                                <input type="text" id="name${i}" placeholder="Nombre del grupo">
                                <input type="password" id="pass${i}" placeholder="Contrase√±a">
                                <button onclick="login(${i})">Entrar</button>`;
            }
        }
    </script>
</body>
</html>
